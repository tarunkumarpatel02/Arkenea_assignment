{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tarun\\\\Desktop\\\\React Hooks\\\\dummy_react_hooks_project\\\\src\\\\components\\\\Ingredients\\\\Ingredients.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport IngredientForm from './IngredientForm';\nimport Search from './Search';\nimport IngredientsList from './IngredientList';\n\nconst Ingredients = () => {\n  const [userIngredients, setUserIngredients] = useState([]);\n  const [isLoading, setIsLoading] = useState(false); // useEffect(()=>{\n  //     fetch(\"https://react-hooks-c4ac3.firebaseio.com/ingredients.json\").then(response =>response.json()).then(responseData =>{\n  //       const temporaryDataHolder = [];\n  //       for(const key in responseData){\n  //         temporaryDataHolder.push({\n  //           id: key,\n  //           title: responseData[key].title,\n  //           amount: responseData[key].amount\n  //         });\n  //       }\n  //       setUserIngredients(temporaryDataHolder);\n  //     })\n  // },[]);\n\n  const ingredientSubmitHandler = ingredient => {\n    setIsLoading(true);\n    fetch(\"https://react-hooks-c4ac3.firebaseio.com/ingredients.json\", {\n      method: 'POST',\n      body: JSON.stringify(ingredient),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      setIsLoading(false);\n      return response.json();\n      console.log(response.json());\n    }).then(responseData => {\n      setUserIngredients(prevIngredients => [...prevIngredients, {\n        id: responseData.name,\n        ...ingredient\n      }]);\n    });\n  };\n\n  const loadIngredientshandler = useCallback(ingredients => {\n    setUserIngredients(ingredients);\n  }, []);\n\n  const removeHandler = id => {\n    setIsLoading(true);\n    fetch(`https://react-hooks-c4ac3.firebaseio.com/ingredients/${id}.json`, {\n      method: 'DELETE'\n    }).then(response => {\n      setIsLoading(false);\n      setUserIngredients(prevIngredients => prevIngredients.filter(ingredient => ingredient.id != id));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IngredientForm, {\n    ingredientHandler: ingredientSubmitHandler,\n    loading: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    onLoadIngredients: loadIngredientshandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(IngredientsList, {\n    ingredients: userIngredients,\n    onRemoveItem: removeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Ingredients;","map":{"version":3,"sources":["C:/Users/Tarun/Desktop/React Hooks/dummy_react_hooks_project/src/components/Ingredients/Ingredients.js"],"names":["React","useState","useEffect","useCallback","IngredientForm","Search","IngredientsList","Ingredients","userIngredients","setUserIngredients","isLoading","setIsLoading","ingredientSubmitHandler","ingredient","fetch","method","body","JSON","stringify","headers","then","response","json","console","log","responseData","prevIngredients","id","name","loadIngredientshandler","ingredients","removeHandler","filter"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,WAApC,QAAsD,OAAtD;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,eAAP,MAA4B,kBAA5B;;AAEA,MAAMC,WAAW,GAAE,MAAM;AACvB,QAAM,CAAEC,eAAF,EAAmBC,kBAAnB,IAAyCR,QAAQ,CAAC,EAAD,CAAvD;AACA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,KAAD,CAA1C,CAFuB,CAGvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMW,uBAAuB,GAAKC,UAAF,IAAiB;AAC/CF,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAG,IAAAA,KAAK,CAAC,2DAAD,EAA6D;AAChEC,MAAAA,MAAM,EAAC,MADyD;AAEhEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,UAAf,CAF0D;AAGhEM,MAAAA,OAAO,EAAC;AAAC,wBAAgB;AAAjB;AAHwD,KAA7D,CAAL,CAIGC,IAJH,CAIQC,QAAQ,IAAG;AACjBV,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACA,aAAOU,QAAQ,CAACC,IAAT,EAAP;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAAT,EAAZ;AACD,KARD,EAQGF,IARH,CAQQK,YAAY,IAAG;AACrBhB,MAAAA,kBAAkB,CAAEiB,eAAe,IAAI,CAAC,GAAGA,eAAJ,EAAqB;AAACC,QAAAA,EAAE,EAACF,YAAY,CAACG,IAAjB;AAAuB,WAAGf;AAA1B,OAArB,CAArB,CAAlB;AACD,KAVD;AAWD,GAbD;;AAcD,QAAMgB,sBAAsB,GAAE1B,WAAW,CAAE2B,WAAW,IAAG;AACxDrB,IAAAA,kBAAkB,CAACqB,WAAD,CAAlB;AACA,GAFwC,EAEvC,EAFuC,CAAzC;;AAGC,QAAMC,aAAa,GAAKJ,EAAF,IAAS;AAC7BhB,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAG,IAAAA,KAAK,CAAE,wDAAuDa,EAAG,OAA5D,EAAmE;AACtEZ,MAAAA,MAAM,EAAC;AAD+D,KAAnE,CAAL,CAEGK,IAFH,CAEQC,QAAQ,IAAE;AAChBV,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAF,MAAAA,kBAAkB,CAACiB,eAAe,IAAIA,eAAe,CAACM,MAAhB,CAAuBnB,UAAU,IAAIA,UAAU,CAACc,EAAX,IAAiBA,EAAtD,CAApB,CAAlB;AACD,KALD;AAMH,GARC;;AASA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAgB,IAAA,iBAAiB,EAAIf,uBAArC;AAA8D,IAAA,OAAO,EAAIF,SAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,iBAAiB,EAAImB,sBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,eAAD;AAAiB,IAAA,WAAW,EAAIrB,eAAhC;AAAiD,IAAA,YAAY,EAAGuB,aAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAHF,CADF;AAUD,CArDD;;AAuDA,eAAexB,WAAf","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\n\nimport IngredientForm from './IngredientForm';\nimport Search from './Search';\nimport IngredientsList from './IngredientList';\n\nconst Ingredients= () => {\n  const [ userIngredients, setUserIngredients] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  // useEffect(()=>{\n  //     fetch(\"https://react-hooks-c4ac3.firebaseio.com/ingredients.json\").then(response =>response.json()).then(responseData =>{\n  //       const temporaryDataHolder = [];\n  //       for(const key in responseData){\n  //         temporaryDataHolder.push({\n  //           id: key,\n  //           title: responseData[key].title,\n  //           amount: responseData[key].amount\n  //         });\n  //       }\n  //       setUserIngredients(temporaryDataHolder);\n  //     })\n  // },[]);\n\n  const ingredientSubmitHandler = ( ingredient ) =>{\n    setIsLoading(true);\n    fetch(\"https://react-hooks-c4ac3.firebaseio.com/ingredients.json\",{\n      method:'POST',\n      body: JSON.stringify(ingredient),\n      headers:{'Content-Type': 'application/json'}\n    }).then(response =>{\n      setIsLoading(false)\n      return response.json();\n      console.log(response.json());\n    }).then(responseData =>{\n      setUserIngredients( prevIngredients => [...prevIngredients, {id:responseData.name, ...ingredient}])\n    })\n  }\n const loadIngredientshandler =useCallback( ingredients =>{\n  setUserIngredients(ingredients);\n },[]);\n  const removeHandler = ( id ) =>{\n    setIsLoading(true);\n    fetch(`https://react-hooks-c4ac3.firebaseio.com/ingredients/${id}.json`,{\n      method:'DELETE'\n    }).then(response=>{\n      setIsLoading(false);\n      setUserIngredients(prevIngredients => prevIngredients.filter(ingredient => ingredient.id != id));\n    })\n}\n  return (\n    <div className=\"App\">\n      <IngredientForm ingredientHandler = {ingredientSubmitHandler} loading = {isLoading}/>\n\n      <section>\n        <Search onLoadIngredients = {loadIngredientshandler}/>\n        <IngredientsList ingredients = {userIngredients} onRemoveItem ={removeHandler}/>\n      </section>\n    </div>\n  );\n}\n\nexport default Ingredients;\n"]},"metadata":{},"sourceType":"module"}